<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Recording</title>
  
  <subtitle>Recording, Sharing, TimeSaving -- 一切成本皆时间</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.jibing57.com/"/>
  <updated>2021-02-08T08:04:27.990Z</updated>
  <id>https://www.jibing57.com/</id>
  
  <author>
    <name>jibing57</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Postgresql数据库磁盘快速增长的一个可能原因</title>
    <link href="https://www.jibing57.com/2021/02/07/one-record-about-continuous-disk-rise-of-Postgresql/"/>
    <id>https://www.jibing57.com/2021/02/07/one-record-about-continuous-disk-rise-of-Postgresql/</id>
    <published>2021-02-07T14:08:22.000Z</published>
    <updated>2021-02-08T08:04:27.990Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;结论&quot;&gt;&lt;a href=&quot;#结论&quot; class=&quot;headerlink&quot; title=&quot;结论&quot;&gt;&lt;/a&gt;结论&lt;/h3&gt;&lt;p&gt;Postgresql中发现磁盘占用空间莫名快速增长时，有一种可能是因为&lt;code&gt;pg_stat_activity&lt;/code&gt;中有异常的很久之前的查询导致的。&lt;br&gt;持续时间特别长的查询会导致Postgresql不停的维护该查询之后所有更新的数据记录，导致表大小快速的膨胀。&lt;/p&gt;
&lt;h3 id=&quot;过程&quot;&gt;&lt;a href=&quot;#过程&quot; class=&quot;headerlink&quot; title=&quot;过程&quot;&gt;&lt;/a&gt;过程&lt;/h3&gt;&lt;h4 id=&quot;起因&quot;&gt;&lt;a href=&quot;#起因&quot; class=&quot;headerlink&quot; title=&quot;起因&quot;&gt;&lt;/a&gt;起因&lt;/h4&gt;&lt;p&gt;AWS上一套系统的RDS之前从Postgresql 9.5升级到了9.6。升级之后跑的好好的，突然在1月中接到警报，说磁盘不足。&lt;br&gt;很好奇,这是一个访问量不大的网站, 之前记得一百多个G空间的。怎么突然就警报空间不足了。&lt;/p&gt;
&lt;h4 id=&quot;调查&quot;&gt;&lt;a href=&quot;#调查&quot; class=&quot;headerlink&quot; title=&quot;调查&quot;&gt;&lt;/a&gt;调查&lt;/h4&gt;&lt;p&gt;登录AWS Console一看，吓了一跳，RDS的数据库剩余磁盘容量，2个星期内从180G下降到80G。空间下降这么快，肯定是哪边出了问题。&lt;br&gt;使用&lt;code&gt;psql&lt;/code&gt;登录后台，查看了各表的大小&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;FROM (&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    SELECT&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        table_name,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        pg_table_size(table_name) AS table_size,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        pg_indexes_size(table_name) AS indexes_size,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        pg_total_relation_size(table_name) AS total_size&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    FROM (&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        SELECT (&amp;apos;&amp;quot;&amp;apos; || table_schema || &amp;apos;&amp;quot;.&amp;quot;&amp;apos; || table_name || &amp;apos;&amp;quot;&amp;apos;) AS table_name&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        FROM information_schema.tables&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ) AS all_tables&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ORDER BY total_size DESC&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;) AS pretty_sizes&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="AWS" scheme="https://www.jibing57.com/categories/AWS/"/>
    
    
      <category term="RDS" scheme="https://www.jibing57.com/tags/RDS/"/>
    
      <category term="PostgreSQL" scheme="https://www.jibing57.com/tags/PostgreSQL/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 7.0.1406上yum install提示exiting on user cancel错误的解决方法</title>
    <link href="https://www.jibing57.com/2021/02/07/yum-install-exiting-on-user-cancel-on-centos-7-0-1406/"/>
    <id>https://www.jibing57.com/2021/02/07/yum-install-exiting-on-user-cancel-on-centos-7-0-1406/</id>
    <published>2021-02-07T13:44:51.000Z</published>
    <updated>2021-02-08T03:03:37.183Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;问题&quot;&gt;&lt;a href=&quot;#问题&quot; class=&quot;headerlink&quot; title=&quot;问题&quot;&gt;&lt;/a&gt;问题&lt;/h3&gt;&lt;p&gt;公司一台老CentOS 7机器上要安装某个软件，&lt;code&gt;yum install&lt;/code&gt;后，提示安装失败，提示&lt;code&gt;Exiting on user cancel&lt;/code&gt;。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;File &amp;quot;/usr/libexec/urlgrabber-ext-down&amp;quot;, line 75, in &amp;lt;module&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;main()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;File &amp;quot;/usr/libexec/urlgrabber-ext-down&amp;quot;, line 61, in main&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;fo = PyCurlFileObject(opts.url, opts.filename, opts)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;File &amp;quot;/usr/lib/python2.7/site-packages/urlgrabber/grabber.py&amp;quot;, line 1258, in __init__&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;self._do_open()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;File &amp;quot;/usr/lib/python2.7/site-packages/urlgrabber/grabber.py&amp;quot;, line 1589, in _do_open&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;self._do_grab()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;File &amp;quot;/usr/lib/python2.7/site-packages/urlgrabber/grabber.py&amp;quot;, line 1723, in _do_grab&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;self._do_perform()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;File &amp;quot;/usr/lib/python2.7/site-packages/urlgrabber/grabber.py&amp;quot;, line 1517, in _do_perform&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;raise KeyboardInterrupt&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;KeyboardInterrupt&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Exiting on user cancel&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;试了多次都是这样，一脸诧异。&lt;br&gt;查看了下CentOS版本是&lt;code&gt;CentOS Linux release 7.0.1406 (Core)&lt;/code&gt;, 网上搜一通，发现是CentOS 7.0.1406中yum的一个Bug。摘录解决方法如下。&lt;/p&gt;
    
    </summary>
    
      <category term="Linux" scheme="https://www.jibing57.com/categories/Linux/"/>
    
    
      <category term="CentOS" scheme="https://www.jibing57.com/tags/CentOS/"/>
    
      <category term="Yum" scheme="https://www.jibing57.com/tags/Yum/"/>
    
      <category term="Bug" scheme="https://www.jibing57.com/tags/Bug/"/>
    
  </entry>
  
  <entry>
    <title>MacOS下复制快捷键失效问题</title>
    <link href="https://www.jibing57.com/2021/01/15/why-command-c-cannot-copy-on-macos/"/>
    <id>https://www.jibing57.com/2021/01/15/why-command-c-cannot-copy-on-macos/</id>
    <published>2021-01-15T12:18:56.000Z</published>
    <updated>2021-01-15T06:33:43.856Z</updated>
    
    <summary type="html">
    
      
      
        &lt;p&gt;不知道从哪个版本的OSX系统开始，复制快捷键&lt;code&gt;Command + C&lt;/code&gt;就开始不怎么灵，有时候按一下复制不成功，需要多按几下才有效。&lt;br&gt;之前网上查找没找到什么可靠的说法。就一直以为是系统的Bug。&lt;br&gt;这么多年已经习惯每次复制时，按两下&lt;code&gt;
      
    
    </summary>
    
      <category term="Tools" scheme="https://www.jibing57.com/categories/Tools/"/>
    
    
      <category term="MacOS" scheme="https://www.jibing57.com/tags/MacOS/"/>
    
  </entry>
  
  <entry>
    <title>如何让Nginx支持带点的header</title>
    <link href="https://www.jibing57.com/2020/11/11/how-to-let-nginx-process-request-header-with-dots/"/>
    <id>https://www.jibing57.com/2020/11/11/how-to-let-nginx-process-request-header-with-dots/</id>
    <published>2020-11-11T12:31:06.000Z</published>
    <updated>2020-11-12T05:27:45.081Z</updated>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;起因&quot;&gt;&lt;a href=&quot;#起因&quot; class=&quot;headerlink&quot; title=&quot;起因&quot;&gt;&lt;/a&gt;起因&lt;/h3&gt;&lt;p&gt;公司有个比较久远的遗留APP项目，服务端用的是之前公司自己写的一个HTTP的服务器。最近这个项目被要求升级使用https。&lt;br&gt;但自研的H
      
    
    </summary>
    
      <category term="Tools" scheme="https://www.jibing57.com/categories/Tools/"/>
    
    
      <category term="Nginx" scheme="https://www.jibing57.com/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>在CentOS 7中使用kubeadm搭建kubernetes集群</title>
    <link href="https://www.jibing57.com/2020/11/07/build-k8s-cluster-with-kubeadm-on-centos7/"/>
    <id>https://www.jibing57.com/2020/11/07/build-k8s-cluster-with-kubeadm-on-centos7/</id>
    <published>2020-11-07T07:35:22.000Z</published>
    <updated>2020-11-10T09:22:03.252Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;在CentOS 7上使用kubeadm安装kubernetes cluster的方法。&lt;/p&gt;
&lt;h3 id=&quot;安装公共组件&quot;&gt;&lt;a href=&quot;#安装公共组件&quot; class=&quot;headerlink&quot; title=&quot;安装公共组件&quot;&gt;&lt;/a&gt;安装公共组件&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo yum install -y wget net-tools vim&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;安装Docker&quot;&gt;&lt;a href=&quot;#安装Docker&quot; class=&quot;headerlink&quot; title=&quot;安装Docker&quot;&gt;&lt;/a&gt;安装Docker&lt;/h3&gt;&lt;p&gt;CentOS 7中安装docker参见之前文章&lt;a href=&quot;/2020/06/14/docker-basic/&quot; title=&quot;Docker基础&quot;&gt;Docker基础&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;安装Kubernetes&quot;&gt;&lt;a href=&quot;#安装Kubernetes&quot; class=&quot;headerlink&quot; title=&quot;安装Kubernetes&quot;&gt;&lt;/a&gt;安装Kubernetes&lt;/h3&gt;&lt;h4 id=&quot;添加kubenetes的yum源&quot;&gt;&lt;a href=&quot;#添加kubenetes的yum源&quot; class=&quot;headerlink&quot; title=&quot;添加kubenetes的yum源&quot;&gt;&lt;/a&gt;添加kubenetes的yum源&lt;/h4&gt;&lt;p&gt;在Master和Node中同时添加阿里云的yum源。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo cat &amp;lt;&amp;lt;EOF &amp;gt; /etc/yum.repos.d/kubernetes.repo&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[kubernetes]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;name=Kubernetes&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;enabled=1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gpgcheck=1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;repo_gpgcheck=1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;EOF&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Kubernetes" scheme="https://www.jibing57.com/categories/Kubernetes/"/>
    
    
      <category term="Docker" scheme="https://www.jibing57.com/tags/Docker/"/>
    
      <category term="CentOS" scheme="https://www.jibing57.com/tags/CentOS/"/>
    
      <category term="Kubernetes" scheme="https://www.jibing57.com/tags/Kubernetes/"/>
    
      <category term="Kubeadm" scheme="https://www.jibing57.com/tags/Kubeadm/"/>
    
  </entry>
  
  <entry>
    <title>AWS RDS PostgreSQL版本升级</title>
    <link href="https://www.jibing57.com/2020/10/24/upgrade-postgresql-version-on-aws-RDS/"/>
    <id>https://www.jibing57.com/2020/10/24/upgrade-postgresql-version-on-aws-RDS/</id>
    <published>2020-10-24T06:23:22.000Z</published>
    <updated>2020-10-25T09:13:58.437Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;起因&quot;&gt;&lt;a href=&quot;#起因&quot; class=&quot;headerlink&quot; title=&quot;起因&quot;&gt;&lt;/a&gt;起因&lt;/h3&gt;&lt;p&gt;海外AWS中有一套系统采用的是PostgreSQL 9.5， 因为PG 9.5在2021年2月11号之后不再被PG社区所支持了, PG社区对版本的支持参见&lt;a href=&quot;https://www.postgresql.org/support/versioning/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Versioning Policy&lt;/a&gt;。因此AWS发送了邮件，提示我们尽快升级到9.6。并且介于PG 9.6在2020年11月11号之后也会停止支持，AWS建议直接升级到PostgreSQL 12或以上版本。 &lt;/p&gt;
&lt;p&gt;基于直接从9.5升级到12，中间跨越版本太大，可能会有问题。因此决定先暂时升级到9.6。等后续完整测试12后，再升级到12。&lt;/p&gt;
&lt;h3 id=&quot;升级步骤&quot;&gt;&lt;a href=&quot;#升级步骤&quot; class=&quot;headerlink&quot; title=&quot;升级步骤&quot;&gt;&lt;/a&gt;升级步骤&lt;/h3&gt;&lt;p&gt;AWS升级，可以在Web Console中点击几个按钮就可以升级。但升级时，Event提示升级失败，PreUpgrade checks Fails。报错如下:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;The instance could not be upgraded from 9.5.22.R1 to 9.6.19.R1 because of following reasons. Please take appropriate action on databases that have usages incompatible with requested major engine version upgrade and try again.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Following usages in database &amp;apos;xxxxx&amp;apos; need to be corrected before upgrade:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;-- The instance could not be upgraded because there are one or more databases with an older version of PostGIS extension or its dependent extensions (address_standardizer, address_standardizer_data_us, postgis_tiger_geocoder, postgis_topology) installed. Please upgrade all installations of PostGIS and drop its dependent extensions and try again.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Following usages in database &amp;apos;nest_demo&amp;apos; need to be corrected before upgrade:&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;提示升级检查失败，原因是&lt;code&gt;PostGIS&lt;/code&gt;的版本存在问题。&lt;/p&gt;
    
    </summary>
    
      <category term="AWS" scheme="https://www.jibing57.com/categories/AWS/"/>
    
    
      <category term="RDS" scheme="https://www.jibing57.com/tags/RDS/"/>
    
      <category term="PostgreSQL" scheme="https://www.jibing57.com/tags/PostgreSQL/"/>
    
      <category term="AWS" scheme="https://www.jibing57.com/tags/AWS/"/>
    
  </entry>
  
  <entry>
    <title>wkhtmltopdf支持中文字体</title>
    <link href="https://www.jibing57.com/2020/10/22/wkhtmltopdf-to-support-chinese-charactor/"/>
    <id>https://www.jibing57.com/2020/10/22/wkhtmltopdf-to-support-chinese-charactor/</id>
    <published>2020-10-22T13:31:30.000Z</published>
    <updated>2020-10-22T09:14:01.628Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;问题&quot;&gt;&lt;a href=&quot;#问题&quot; class=&quot;headerlink&quot; title=&quot;问题&quot;&gt;&lt;/a&gt;问题&lt;/h3&gt;&lt;p&gt;CentOS 7.8环境中，要使用wkhtmltopdf来从网页中生成PDF。&lt;br&gt;没有使用rpm包来安装wkhtmltopdf命令，而是使用了&lt;code&gt;gem &amp;#39;wkhtmltopdf-binary&amp;#39;&lt;/code&gt;在Rails项目下安装了&lt;code&gt;wkhtmltopdf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;运行后发现，网页中的中文在PDF中没法显示。&lt;/p&gt;
&lt;h3 id=&quot;解决办法&quot;&gt;&lt;a href=&quot;#解决办法&quot; class=&quot;headerlink&quot; title=&quot;解决办法&quot;&gt;&lt;/a&gt;解决办法&lt;/h3&gt;&lt;p&gt;调查后发现是因为系统中缺少中文字体的支持，使用如下命令安装字体后，可以解决。两者选其一。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo yum install -y wqy-microhei-fonts&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# 或者&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo yum install -y xorg-x11-fonts-75dpi&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Tools" scheme="https://www.jibing57.com/categories/Tools/"/>
    
    
      <category term="CentOS" scheme="https://www.jibing57.com/tags/CentOS/"/>
    
      <category term="Wkhtmltopdf" scheme="https://www.jibing57.com/tags/Wkhtmltopdf/"/>
    
  </entry>
  
  <entry>
    <title>MacOS下使用iTunes删除iphone备份磁盘空间没回收</title>
    <link href="https://www.jibing57.com/2020/10/14/why-disk-space-not-restored-after-deleting-iphone-backup-on-macos/"/>
    <id>https://www.jibing57.com/2020/10/14/why-disk-space-not-restored-after-deleting-iphone-backup-on-macos/</id>
    <published>2020-10-14T13:11:30.000Z</published>
    <updated>2020-10-14T05:05:39.738Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;记一次有趣的经历。&lt;/p&gt;
&lt;h3 id=&quot;事情经过&quot;&gt;&lt;a href=&quot;#事情经过&quot; class=&quot;headerlink&quot; title=&quot;事情经过&quot;&gt;&lt;/a&gt;事情经过&lt;/h3&gt;&lt;p&gt;为了能用Watch 6，升级了手机系统到IOS 14。升级之前在电脑上用itunes备份了下(&lt;strong&gt;没错，是itunes，我mac系统还在用10.14,所以还是itunes,不是Finder&lt;/strong&gt;)，占了几十个G的空间，电脑上磁盘空间一下子紧张了。手机升级完毕后，看了下没啥问题，就准备把电脑上的iphone备份给删了。&lt;/p&gt;
&lt;p&gt;以前删备份都是打开Terminal, 进入&lt;code&gt;~/Library/Application\ Support/MobileSync/Backup/&lt;/code&gt;后手动&lt;code&gt;rm -r xxx&lt;/code&gt;的。可这次不知道为啥，鬼使神差的用了itunes自带的删除备份的功能。就是下面这个界面。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/Apple/device_backup_on_itunes.jpg&quot; alt=&quot;device_backup_on_itunes.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;一通操作，在界面上把备份删除了。&lt;/p&gt;
&lt;p&gt;然后信心满满地敲下了&lt;code&gt;df -h&lt;/code&gt;来查看回收了多少磁盘空间。&lt;/p&gt;
&lt;p&gt;命令一敲，啥情况。怎么空间没有被回收？&lt;/p&gt;
&lt;p&gt;猜想，可能是itune的Bug，文件没有被删除吧。算了算了，还是手动删一下吧。打开Terminal，潇洒的敲击&lt;code&gt;cd ~/Library/Application\ Support/MobileSync/Backup/&lt;/code&gt;，熟练的敲击&lt;code&gt;du -sh ./*&lt;/code&gt;来查看是哪个目录没有被回收。&lt;/p&gt;
&lt;p&gt;一敲下去，发现不对劲，怎么显示Backup占用的磁盘空间是0B?&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ du -sh ./*&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  0B	./00008020-000464E03BD8002E&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Tools" scheme="https://www.jibing57.com/categories/Tools/"/>
    
    
      <category term="MacOS" scheme="https://www.jibing57.com/tags/MacOS/"/>
    
      <category term="iPhone" scheme="https://www.jibing57.com/tags/iPhone/"/>
    
      <category term="iTunes" scheme="https://www.jibing57.com/tags/iTunes/"/>
    
  </entry>
  
  <entry>
    <title>AWS LightSail Tips</title>
    <link href="https://www.jibing57.com/2020/08/04/some-tips-of-aws-lightsail/"/>
    <id>https://www.jibing57.com/2020/08/04/some-tips-of-aws-lightsail/</id>
    <published>2020-08-04T14:38:06.000Z</published>
    <updated>2020-08-05T01:56:20.619Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;如何跨区域迁移LightSail&quot;&gt;&lt;a href=&quot;#如何跨区域迁移LightSail&quot; class=&quot;headerlink&quot; title=&quot;如何跨区域迁移LightSail&quot;&gt;&lt;/a&gt;如何跨区域迁移LightSail&lt;/h3&gt;&lt;p&gt;步骤:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;现在源区域中对LightSail Instance做snapshot&lt;/li&gt;
&lt;li&gt;然后对该snapshot进行”Copy to another Region”的操作，选择目标Region进行拷贝&lt;/li&gt;
&lt;li&gt;在目标Region中选择拷贝来的snapshot，选择”Create new instance”&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;官网介绍操作的两篇文章, 清晰易懂。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://lightsail.aws.amazon.com/ls/docs/en_us/articles/amazon-lightsail-copying-snapshots-from-one-region-to-another&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Copying snapshots from one AWS Region to another in Amazon Lightsail&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://lightsail.aws.amazon.com/ls/docs/en_us/articles/lightsail-how-to-create-instance-from-snapshot&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Creating an instance from a manual snapshot in Amazon Lightsail&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;LightSail&quot;&gt;&lt;a href=&quot;#LightSail&quot; class=&quot;headerlink&quot; title=&quot;LightSail&quot;&gt;&lt;/a&gt;LightSail&lt;/h3&gt;&lt;p&gt;和EC2 Instance不同，LightSail在stopped状态时也是会收费的。参照&lt;a href=&quot;https://aws.amazon.com/lightsail/faq/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官方fAQ&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Q: When am I getting charged for a plan?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Your Lightsail instances are charged only when they’re in the running or stopped state. If you delete your Lightsail instance before the end of the month, we only charge you a prorated cost, based on the total number of hours that you used your Lightsail instance. For example, if you use the least expensive Lightsail plan for 100 hours in a month, you will be charged 47 cents (100*0.0047).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.skeddly.com/2017/01/understanding-lightsail-pricing.html#:~:text=Your%20Lightsail%20instances%20are%20charged,you%20used%20your%20Lightsail%20instance.&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Understanding Lightsail Pricing&lt;/a&gt;这个文章还介绍了LightSail的计费方式。&lt;/p&gt;
    
    </summary>
    
      <category term="AWS" scheme="https://www.jibing57.com/categories/AWS/"/>
    
    
      <category term="Lightsail" scheme="https://www.jibing57.com/tags/Lightsail/"/>
    
  </entry>
  
  <entry>
    <title>Nginx RTMP服务器配置</title>
    <link href="https://www.jibing57.com/2020/08/01/advanced-configure-of-nginx-rtmp/"/>
    <id>https://www.jibing57.com/2020/08/01/advanced-configure-of-nginx-rtmp/</id>
    <published>2020-08-01T12:24:15.000Z</published>
    <updated>2020-08-04T03:39:33.421Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;p&gt;本篇是&lt;a href=&quot;/2020/07/29/how-to-setup-nginx-rtmp-on-centos-7/&quot; title=&quot;CentOS 7中搭建基础的Nginx RMPT服务器&quot;&gt;CentOS 7中搭建基础的Nginx RMPT服务器&lt;/a&gt;的续篇，记录了Nignx RTMP使用过程中的一些有用的配置和一些坑。&lt;br&gt;下面的内容，是以文章&lt;a href=&quot;/2020/07/29/how-to-setup-nginx-rtmp-on-centos-7/&quot; title=&quot;CentOS 7中搭建基础的Nginx RMPT服务器&quot;&gt;CentOS 7中搭建基础的Nginx RMPT服务器&lt;/a&gt;中的配置为基准进行的修改。&lt;/p&gt;
&lt;h3 id=&quot;配置stat&quot;&gt;&lt;a href=&quot;#配置stat&quot; class=&quot;headerlink&quot; title=&quot;配置stat&quot;&gt;&lt;/a&gt;配置stat&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/arut/nginx-rtmp-module&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;nginx-rtmp-module&lt;/a&gt;自身提供了统计的功能。按照Github上官方例子进行配置就行。&lt;a href=&quot;https://github.com/arut/nginx-rtmp-module&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/arut/nginx-rtmp-module&lt;/a&gt;&lt;br&gt;首先，拷贝&lt;a href=&quot;https://github.com/arut/nginx-rtmp-module&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;nginx-rtmp-module&lt;/a&gt;源码中的stat.xls到nginx默认主目录&lt;code&gt;/usr/local/nginx/html/&lt;/code&gt;中。&lt;br&gt;再配置rtmp的stat, 在默认server中添加如下配置。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# This URL provides RTMP statistics in XML&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;location /stat &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    rtmp_stat all;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    # Use this stylesheet to view XML as web page&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    # in browser&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    rtmp_stat_stylesheet stat.xsl;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;location /stat.xsl &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    # XML stylesheet to view RTMP stats.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    # Copy stat.xsl wherever you want&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    # and put the full directory path here&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    root html;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Tools" scheme="https://www.jibing57.com/categories/Tools/"/>
    
    
      <category term="CentOS" scheme="https://www.jibing57.com/tags/CentOS/"/>
    
      <category term="Nginx" scheme="https://www.jibing57.com/tags/Nginx/"/>
    
      <category term="FFMPEG" scheme="https://www.jibing57.com/tags/FFMPEG/"/>
    
      <category term="RTMP" scheme="https://www.jibing57.com/tags/RTMP/"/>
    
      <category term="HLS" scheme="https://www.jibing57.com/tags/HLS/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 7中搭建基础的Nginx RMPT服务器</title>
    <link href="https://www.jibing57.com/2020/07/29/how-to-setup-nginx-rtmp-on-centos-7/"/>
    <id>https://www.jibing57.com/2020/07/29/how-to-setup-nginx-rtmp-on-centos-7/</id>
    <published>2020-07-29T13:36:27.000Z</published>
    <updated>2020-08-04T03:38:31.289Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;介绍下如何在本地CentOS 7中使用&lt;a href=&quot;https://github.com/arut/nginx-rtmp-module&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;nginx-rtmp-module&lt;/a&gt;来搭建基本的RTMP和HLS直播服务器。&lt;br&gt;基于如下情况进行搭建:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;系统版本: CentOS 7.6 Minimal&lt;/li&gt;
&lt;li&gt;虚拟机IP地址: 192.168.168.199&lt;/li&gt;
&lt;li&gt;Nginx版本:1.14.2&lt;/li&gt;
&lt;li&gt;Nginx Rtmp模块: &lt;a href=&quot;https://github.com/arut/nginx-rtmp-module&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;nginx-rtmp-module&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;如下安装步骤，如果没有特别说明，都是基于root用户进行安装。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;安装nginx&quot;&gt;&lt;a href=&quot;#安装nginx&quot; class=&quot;headerlink&quot; title=&quot;安装nginx&quot;&gt;&lt;/a&gt;安装nginx&lt;/h3&gt;&lt;p&gt;首先更新CentOS系统&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;yum update&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;安装编译nginx所需的开发包&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;yum install gcc&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;yum install pcre pcre-devel pcre-static pcre-tools&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;yum install openssl openssl-static openssl-devel&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;yum install wget unzip&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Tools" scheme="https://www.jibing57.com/categories/Tools/"/>
    
    
      <category term="CentOS" scheme="https://www.jibing57.com/tags/CentOS/"/>
    
      <category term="Nginx" scheme="https://www.jibing57.com/tags/Nginx/"/>
    
      <category term="FFMPEG" scheme="https://www.jibing57.com/tags/FFMPEG/"/>
    
      <category term="RTMP" scheme="https://www.jibing57.com/tags/RTMP/"/>
    
      <category term="HLS" scheme="https://www.jibing57.com/tags/HLS/"/>
    
  </entry>
  
  <entry>
    <title>Redis基础</title>
    <link href="https://www.jibing57.com/2020/07/03/redis-basic/"/>
    <id>https://www.jibing57.com/2020/07/03/redis-basic/</id>
    <published>2020-07-03T13:44:52.000Z</published>
    <updated>2020-07-03T16:50:37.902Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;Redis基础知识&lt;/p&gt;
&lt;h2 id=&quot;Redis-CentOS7下安装&quot;&gt;&lt;a href=&quot;#Redis-CentOS7下安装&quot; class=&quot;headerlink&quot; title=&quot;Redis CentOS7下安装&quot;&gt;&lt;/a&gt;Redis CentOS7下安装&lt;/h2&gt;&lt;p&gt;Redis的安装，有epel和remi两个yum源可选。当然也可以选择从源码安装。&lt;br&gt;如下介绍epel和remi的两种安装方式。&lt;/p&gt;
&lt;h3 id=&quot;EPEL安装&quot;&gt;&lt;a href=&quot;#EPEL安装&quot; class=&quot;headerlink&quot; title=&quot;EPEL安装&quot;&gt;&lt;/a&gt;EPEL安装&lt;/h3&gt;&lt;p&gt;CentOS 7中EPEL中redis最新的版本是3.2.12-2&lt;/p&gt;
&lt;p&gt;安装命令如下:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo yum install epel-release yum-utils&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo yum install redis&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo systemctl start redis&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo systemctl enable redis&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo systemctl status redis&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Tools" scheme="https://www.jibing57.com/categories/Tools/"/>
    
    
      <category term="CentOS" scheme="https://www.jibing57.com/tags/CentOS/"/>
    
      <category term="Redis" scheme="https://www.jibing57.com/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>Postgresql和Mysql中的事务隔离</title>
    <link href="https://www.jibing57.com/2020/06/29/transaction-isolation-level-in-postgresql-and-mysql/"/>
    <id>https://www.jibing57.com/2020/06/29/transaction-isolation-level-in-postgresql-and-mysql/</id>
    <published>2020-06-29T12:41:19.000Z</published>
    <updated>2020-07-13T09:21:22.867Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;事务的定义&quot;&gt;&lt;a href=&quot;#事务的定义&quot; class=&quot;headerlink&quot; title=&quot;事务的定义&quot;&gt;&lt;/a&gt;事务的定义&lt;/h2&gt;&lt;p&gt;事务拥有四个重要的特性：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;原子性（Atomicity）&lt;ul&gt;
&lt;li&gt;事务开始后所有操作，要么全部做完，要么全部不做，不可能停滞在中间环节。事务执行过程中出错，会回滚到事务开始前的状态，所有的操作就像没有发生一样。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;一致性（Consistency）&lt;ul&gt;
&lt;li&gt;指事务将数据库从一种状态转变为另一种一致的的状态。事务开始前和结束后，数据库的完整性约束没有被破坏。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;隔离性（Isolation）&lt;ul&gt;
&lt;li&gt;要求每个读写事务的对象对其他事务的操作对象能互相分离，即该事务提交前对其他事务不可见。 也可以理解为多个事务并发访问时，事务之间是隔离的，一个事务不应该影响其它事务运行效果。这指的是在并发环境中，当不同的事务同时操纵相同的数据时，每个事务都有各自的完整数据空间。由并发事务所做的修改必须与任何其他并发事务所做的修改隔离。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;持久性（Durability）&lt;ul&gt;
&lt;li&gt;事务一旦提交，则其结果就是永久性的。即使发生宕机的故障，数据库也能将数据恢复，也就是说事务完成后，事务对数据库的所有更新将被保存到数据库，不能回滚。&lt;br&gt;这四个特性就是常说的数据库的ACID 特性&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Tools" scheme="https://www.jibing57.com/categories/Tools/"/>
    
    
      <category term="PostgreSQL" scheme="https://www.jibing57.com/tags/PostgreSQL/"/>
    
      <category term="Mysql" scheme="https://www.jibing57.com/tags/Mysql/"/>
    
  </entry>
  
  <entry>
    <title>Crontab中解决sorry, you must have a tty to run sudo的方法</title>
    <link href="https://www.jibing57.com/2020/06/23/resolve-sudo-error-in-crontab-job/"/>
    <id>https://www.jibing57.com/2020/06/23/resolve-sudo-error-in-crontab-job/</id>
    <published>2020-06-23T13:11:21.000Z</published>
    <updated>2020-06-25T10:49:01.421Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;问题&quot;&gt;&lt;a href=&quot;#问题&quot; class=&quot;headerlink&quot; title=&quot;问题&quot;&gt;&lt;/a&gt;问题&lt;/h3&gt;&lt;p&gt;crontab中使用sudo切换用户执行命令&lt;code&gt;sudo -u user command&lt;/code&gt;时，会报&lt;code&gt;sudo: sorry, you must have a tty to run sudo&lt;/code&gt;的错误。&lt;/p&gt;
&lt;h3 id=&quot;原因&quot;&gt;&lt;a href=&quot;#原因&quot; class=&quot;headerlink&quot; title=&quot;原因&quot;&gt;&lt;/a&gt;原因&lt;/h3&gt;&lt;p&gt;在一些Linux发行版中，会默认设置运行&lt;code&gt;sudo&lt;/code&gt;需要在tty中运行。以CentOS 7.0为例，在&lt;code&gt;/etc/sudoers&lt;/code&gt;中, 有一个默认设置&lt;code&gt;Defaults    requiretty&lt;/code&gt;。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;#&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Disable &amp;quot;ssh hostname sudo &amp;lt;cmd&amp;gt;&amp;quot;, because it will show the password in clear.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#         You have to run &amp;quot;ssh -t hostname sudo &amp;lt;cmd&amp;gt;&amp;quot;.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Defaults    requiretty&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Linux" scheme="https://www.jibing57.com/categories/Linux/"/>
    
    
      <category term="SSH" scheme="https://www.jibing57.com/tags/SSH/"/>
    
      <category term="Crontab" scheme="https://www.jibing57.com/tags/Crontab/"/>
    
  </entry>
  
  <entry>
    <title>Mac下调节外置显示器亮度的工具</title>
    <link href="https://www.jibing57.com/2020/06/21/tools-to-control-brightness-of-external-monitor-on-macos/"/>
    <id>https://www.jibing57.com/2020/06/21/tools-to-control-brightness-of-external-monitor-on-macos/</id>
    <published>2020-06-21T11:57:53.000Z</published>
    <updated>2020-06-23T09:04:33.159Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;起因&quot;&gt;&lt;a href=&quot;#起因&quot; class=&quot;headerlink&quot; title=&quot;起因&quot;&gt;&lt;/a&gt;起因&lt;/h3&gt;&lt;p&gt;家里缺台显示器，趁着狗东6.18活动，入手了一台AOC U2790PQU(穷人表示买不起Dell U2720)。&lt;/p&gt;
&lt;p&gt;到货后拆箱试用，检测了下屏幕，没有坏点, 而且在mac下即插即用，屏幕自动适应缩放，不用特殊设置缩放。一切都挺好。&lt;/p&gt;
&lt;p&gt;唯一的问题是，AOC这台显示器亮度太亮了，我已经在显示器设置中将亮度设为0了，屏幕亮度还是太亮。&lt;/p&gt;
&lt;p&gt;有问题就得尝试解决，于是上网搜索解决方案。&lt;/p&gt;
&lt;h3 id=&quot;需要解决的问题&quot;&gt;&lt;a href=&quot;#需要解决的问题&quot; class=&quot;headerlink&quot; title=&quot;需要解决的问题&quot;&gt;&lt;/a&gt;需要解决的问题&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;问题: 显示器亮度太亮，物理调节亮度为0后，黑暗中还是太亮。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;网上搜了一圈，找到了4个在MacBook Pro上实现亮度调节的方法，记录如下: &lt;/p&gt;
&lt;h4 id=&quot;相关说明&quot;&gt;&lt;a href=&quot;#相关说明&quot; class=&quot;headerlink&quot; title=&quot;相关说明&quot;&gt;&lt;/a&gt;相关说明&lt;/h4&gt;&lt;p&gt;网上有说有些方法在某些系统上不起作用。因此贴一下我这边的系统配置, 下面的记录基于如下系统配置。&lt;br&gt;&lt;strong&gt;电脑型号: MacBook Pro (13-inch, 2018, Four Thunderbolt 3 Ports)&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;操作系统版本: macOS Mojave 10.14.4 (18E226)&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Tools" scheme="https://www.jibing57.com/categories/Tools/"/>
    
    
      <category term="MacOS" scheme="https://www.jibing57.com/tags/MacOS/"/>
    
  </entry>
  
  <entry>
    <title>Docker基础</title>
    <link href="https://www.jibing57.com/2020/06/14/docker-basic/"/>
    <id>https://www.jibing57.com/2020/06/14/docker-basic/</id>
    <published>2020-06-14T09:35:03.000Z</published>
    <updated>2020-10-24T06:17:38.350Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Docker安装&quot;&gt;&lt;a href=&quot;#Docker安装&quot; class=&quot;headerlink&quot; title=&quot;Docker安装&quot;&gt;&lt;/a&gt;Docker安装&lt;/h2&gt;&lt;h3 id=&quot;Docker安装-CentOS-7&quot;&gt;&lt;a href=&quot;#Docker安装-CentOS-7&quot; class=&quot;headerlink&quot; title=&quot;Docker安装(CentOS 7)&quot;&gt;&lt;/a&gt;Docker安装(CentOS 7)&lt;/h3&gt;&lt;p&gt;Docker在CentOS 7上的安装，直接参考官网安装手册即可: &lt;a href=&quot;https://docs.docker.com/engine/install/centos/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Install Docker Engine on CentOS&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;安装Dockerd主版本的步骤如下，要按照特定版本的，参考Docker官网。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo yum -y install epel-release&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo yum install -y yum-utils&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo yum-config-manager     --add-repo     https://download.docker.com/linux/centos/docker-ce.repo&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# sudo yum list docker-ce --showduplicates | sort -r&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo yum -y install docker-ce docker-ce-cli containerd.io -y&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sudo systemctl start docker&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;systemctl enable docker&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;执行&lt;code&gt;docker version&lt;/code&gt;来验证docker是否正常安装。&lt;/p&gt;
&lt;p&gt;Tips:&lt;br&gt;也可以换用阿里云的docker镜像源&lt;code&gt;yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo&lt;/code&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Kubernetes" scheme="https://www.jibing57.com/categories/Kubernetes/"/>
    
    
      <category term="Docker" scheme="https://www.jibing57.com/tags/Docker/"/>
    
      <category term="CentOS" scheme="https://www.jibing57.com/tags/CentOS/"/>
    
      <category term="DockerHub" scheme="https://www.jibing57.com/tags/DockerHub/"/>
    
  </entry>
  
  <entry>
    <title>一些常用的Nginx+Passenger配置</title>
    <link href="https://www.jibing57.com/2020/06/09/some-new-nginx-config/"/>
    <id>https://www.jibing57.com/2020/06/09/some-new-nginx-config/</id>
    <published>2020-06-09T13:42:17.000Z</published>
    <updated>2020-06-17T06:47:30.561Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;摘记一些常用的nginx和passenger(Passenger + Nginx)配置&lt;/p&gt;
&lt;h2 id=&quot;Basic验证&quot;&gt;&lt;a href=&quot;#Basic验证&quot; class=&quot;headerlink&quot; title=&quot;Basic验证&quot;&gt;&lt;/a&gt;Basic验证&lt;/h2&gt;&lt;p&gt;测试环境的服务要放到互联网上时，如果为了避免测试服务的内容被搜索引擎收录，或者只提供给部分用户试用时，可以设置Basic Auth来限制访问。Basic Auth可以在应用层做，也可以在Nginx侧简单的设置。&lt;/p&gt;
&lt;p&gt;如下是Nginx侧的设置方法, 摘录自Nginx官网文章&lt;a href=&quot;https://docs.nginx.com/nginx/admin-guide/security-controls/configuring-http-basic-authentication/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Restricting Access with HTTP Basic Authentication&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;设置htpasswd&quot;&gt;&lt;a href=&quot;#设置htpasswd&quot; class=&quot;headerlink&quot; title=&quot;设置htpasswd&quot;&gt;&lt;/a&gt;设置htpasswd&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;确保apache2-utils (Debian, Ubuntu) 或者 httpd-tools (RHEL/CentOS/Oracle Linux)已经安装。&lt;/li&gt;
&lt;li&gt;&lt;p&gt;创建htpasswd文件, 使用&lt;code&gt;-c&lt;/code&gt;来创建新文件。如下是给用户名carl生成.htpasswd文件，在提示信息中输入访问密码。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo htpasswd -c /etc/nginx/.htpasswd carl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;New password:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Re-type new password:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Adding password for user carl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;如果要创建新的用户，那么去掉&lt;code&gt;-c&lt;/code&gt;参数，往htpasswd文件中添加用户&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo htpasswd /etc/nginx/.htpasswd shen&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;New password:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Re-type new password:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Adding password for user shen&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;确认.htpasswd文件中是否包含了刚设置的用户carl和shen&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ cat /etc/nginx/.htpasswd&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;carl:$apr1$ofR4vRu4$RwMK.HQawTD8/v.YOA2/d.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;shen:$apr1$c1vlrfgt$TqDy9JDsNcGyfTzcSOPLG0&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="Tools" scheme="https://www.jibing57.com/categories/Tools/"/>
    
    
      <category term="Passenger" scheme="https://www.jibing57.com/tags/Passenger/"/>
    
      <category term="Nginx" scheme="https://www.jibing57.com/tags/Nginx/"/>
    
      <category term="Wireshark" scheme="https://www.jibing57.com/tags/Wireshark/"/>
    
  </entry>
  
  <entry>
    <title>屏幕知识概观</title>
    <link href="https://www.jibing57.com/2020/06/06/screen-overview-of-ak-tech/"/>
    <id>https://www.jibing57.com/2020/06/06/screen-overview-of-ak-tech/</id>
    <published>2020-06-06T01:11:06.000Z</published>
    <updated>2020-06-06T15:46:09.619Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;前几天看到了一个讲解显示器显示技术的科普视频，感觉蛮不错的。摘录了一些内容如下。&lt;/p&gt;
&lt;p&gt;视频playlist链接: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Youtube - &lt;a href=&quot;https://www.youtube.com/playlist?list=PLqybz7NWybwWcl_s-VLB_tXqbbBww6nbK&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AK‘s Tech Studio - 硬核显示技术系列视频 有关显示器 显示技术和屏幕 一切你需要知道的事&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;B站&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.bilibili.com/video/BV1eV411o76N&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;「硬核显示技术第一期」LCD和OLED的显示原理和优缺点&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.bilibili.com/video/BV1nf4y1S7EC&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;「硬核显示技术第二期」各种显示器和屏幕的参数 一切你需要知道的&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.bilibili.com/video/BV1aK4y1k7K5&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;「硬核显示技术第三期」显示器刷新率和FPS详解&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.bilibili.com/video/BV1N54y1R7wh&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;为什么玩游戏要用高刷新率屏幕「硬核显示技术第四期」&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.bilibili.com/video/BV1of4y117M8&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;「硬核显示技术第五期」详解一加8Pro的MEMC插帧补偿技术&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="杂" scheme="https://www.jibing57.com/categories/%E6%9D%82/"/>
    
    
      <category term="Screen" scheme="https://www.jibing57.com/tags/Screen/"/>
    
      <category term="LCD" scheme="https://www.jibing57.com/tags/LCD/"/>
    
      <category term="OLED" scheme="https://www.jibing57.com/tags/OLED/"/>
    
  </entry>
  
  <entry>
    <title>在MacOS上加速Minecraft Launcher</title>
    <link href="https://www.jibing57.com/2020/05/31/how-to-speed-minecraft-launcher-on-macos/"/>
    <id>https://www.jibing57.com/2020/05/31/how-to-speed-minecraft-launcher-on-macos/</id>
    <published>2020-05-31T06:58:38.000Z</published>
    <updated>2020-06-01T05:22:43.802Z</updated>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;状况&quot;&gt;&lt;a href=&quot;#状况&quot; class=&quot;headerlink&quot; title=&quot;状况&quot;&gt;&lt;/a&gt;状况&lt;/h3&gt;&lt;p&gt;周末小朋友在家玩Minecraft，可能是近期网络环境有什么变动。官方启动器下载更新文件特别的慢。十分钟进度条才动了一小格子。&lt;/p&gt;
&lt;p
      
    
    </summary>
    
      <category term="Tools" scheme="https://www.jibing57.com/categories/Tools/"/>
    
    
      <category term="MacOS" scheme="https://www.jibing57.com/tags/MacOS/"/>
    
      <category term="Minecraft" scheme="https://www.jibing57.com/tags/Minecraft/"/>
    
  </entry>
  
  <entry>
    <title>Docker添加国内镜像源</title>
    <link href="https://www.jibing57.com/2020/05/27/Add-registry-mirror-to-docker/"/>
    <id>https://www.jibing57.com/2020/05/27/Add-registry-mirror-to-docker/</id>
    <published>2020-05-27T13:14:04.000Z</published>
    <updated>2020-05-27T08:34:50.838Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;在国内访问&lt;a href=&quot;https://hub.docker.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Docker Hub&lt;/a&gt;的速度有点慢，换国内源会稳定和快一点。&lt;/p&gt;
&lt;h3 id=&quot;国内的几个源&quot;&gt;&lt;a href=&quot;#国内的几个源&quot; class=&quot;headerlink&quot; title=&quot;国内的几个源:&quot;&gt;&lt;/a&gt;国内的几个源:&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://dockerhub.azk8s.cn&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://dockerhub.azk8s.cn&lt;/a&gt; - Azure镜像&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://hub-mirror.c.163.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://hub-mirror.c.163.com&lt;/a&gt;  - 网易镜像&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docker.mirrors.ustc.edu.cn&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://docker.mirrors.ustc.edu.cn&lt;/a&gt; - 科大镜像站&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://registry.docker-cn.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://registry.docker-cn.com&lt;/a&gt; - Docker中国官方镜像 &lt;/li&gt;
&lt;li&gt;阿里云也有镜像，只不过需要登录&lt;a href=&quot;https://cr.console.aliyun.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;阿里云控制台&lt;/a&gt;后获取自己专属的镜像源。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;设置方法&quot;&gt;&lt;a href=&quot;#设置方法&quot; class=&quot;headerlink&quot; title=&quot;设置方法&quot;&gt;&lt;/a&gt;设置方法&lt;/h3&gt;&lt;p&gt;参照&lt;a href=&quot;https://cloud.google.com/container-registry/docs/using-dockerhub-mirroring&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Using Container Registry’s Docker Hub mirror&lt;/a&gt;这边描述，共有这么几个设置方法&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;在配置文件中添加&lt;code&gt;registry-mirrors&lt;/code&gt;的配置。启动时自动配置，Linux下的默认配置文件是&lt;code&gt;/etc/docker/daemon.json&lt;/code&gt;.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;quot;registry-mirrors&amp;quot;: [&amp;quot;https://&amp;lt;my-docker-mirror-host&amp;gt;&amp;quot;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;手动启动dockerd的时候，添加&lt;code&gt;--registry-mirror&lt;/code&gt;参数&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;dockerd --registry-mirror=https://&amp;lt;my-docker-mirror-host&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="Kubernetes" scheme="https://www.jibing57.com/categories/Kubernetes/"/>
    
    
      <category term="Docker" scheme="https://www.jibing57.com/tags/Docker/"/>
    
      <category term="Docker Hub" scheme="https://www.jibing57.com/tags/Docker-Hub/"/>
    
      <category term="MacOS" scheme="https://www.jibing57.com/tags/MacOS/"/>
    
  </entry>
  
</feed>
