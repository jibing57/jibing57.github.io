<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>firewall-cmd基本用法 | Recording</title>
  <meta name="author" content="jibing57">
  
  <meta name="description" content="AWS, 阅读, Architecture, PostgreSQL">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="firewall-cmd基本用法"/>
  <meta property="og:site_name" content="Recording"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/bootstrap.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/comment.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>
  
  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-111771042-1', 'auto');
  ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?59d3e14cdc96877383afed646f44d216";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


</head>

 <body>  
  <nav id="main-nav" class="navbar  navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">Recording</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/books" title="Douban">
			  <i class="fa fa-book"></i>Douban
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header ">		
			<h1 class="title "> firewall-cmd基本用法</h1>
		</div>		
	




   <style type="text/css">
           img, video {
                -webkit-box-shadow:0 0 10px rgba(0, 0, 0, .5);  
                -moz-box-shadow:0 0 10px rgba(0, 0, 0, .5);  
                box-shadow:0 0 10px rgba(0, 0, 0, .5);  
           }
   </style>



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <p><strong>还需要装个虚拟机，重新敲命令，拷贝输出内容或者截图</strong></p>
<h3 id="安装和管理firewalld"><a href="#安装和管理firewalld" class="headerlink" title="安装和管理firewalld"></a>安装和管理firewalld</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"># 安装firewalld</div><div class="line">yum install firewalld firewall-config</div><div class="line"></div><div class="line">systemctl start  firewalld # 启动</div><div class="line">systemctl status firewalld # 或者 firewall-cmd --state 查看状态</div><div class="line">systemctl stop firewalld  # 停止</div><div class="line">systemctl enable firewalld # 开机自自动</div><div class="line">systemctl disable firewalld # 取消自启动</div><div class="line">systemctl list-unit-files | grep firewalld # 查看是否开机自启动</div></pre></td></tr></table></figure>
<h3 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h3><p>一些常用的命令如下:</p>
<ul>
<li>查看防火墙状态<br>命令: <code>firewall-cmd --list-all</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">$ sudo firewall-cmd --list-all</div><div class="line">public (active)</div><div class="line">  target: default</div><div class="line">  icmp-block-inversion: no</div><div class="line">  interfaces: ens33</div><div class="line">  sources:</div><div class="line">  services: ssh dhcpv6-client</div><div class="line">  ports:</div><div class="line">  protocols:</div><div class="line">  masquerade: no</div><div class="line">  forward-ports:</div><div class="line">  source-ports:</div><div class="line">  icmp-blocks:</div><div class="line">  rich rules:</div><div class="line"></div><div class="line">$</div></pre></td></tr></table></figure>
</li>
</ul>
<a id="more"></a>
<ul>
<li><p>列出支持的服务<br>命令: <code>firewall-cmd --get-services</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo firewall-cmd --get-services</div><div class="line">RH-Satellite-6 amanda-client amanda-k5-client bacula bacula-client bgp bitcoin bitcoin-rpc bitcoin-testnet bitcoin-testnet-rpc ceph ceph-mon cfengine condor-collector ctdb dhcp dhcpv6 dhcpv6-client dns docker-registry docker-swarm dropbox-lansync elasticsearch freeipa-ldap freeipa-ldaps freeipa-replication freeipa-trust ftp ganglia-client ganglia-master git gre high-availability http https imap imaps ipp ipp-client ipsec irc ircs iscsi-target jenkins kadmin kerberos kibana klogin kpasswd kprop kshell ldap ldaps libvirt libvirt-tls managesieve mdns minidlna mongodb mosh mountd ms-wbt mssql murmur mysql nfs nfs3 nmea-0183 nrpe ntp openvpn ovirt-imageio ovirt-storageconsole ovirt-vmconsole pmcd pmproxy pmwebapi pmwebapis pop3 pop3s postgresql privoxy proxy-dhcp ptp pulseaudio puppetmaster quassel radius redis rpc-bind rsh rsyncd samba samba-client sane sip sips smtp smtp-submission smtps snmp snmptrap spideroak-lansync squid ssh syncthing syncthing-gui synergy syslog syslog-tls telnet tftp tftp-client tinc tor-socks transmission-client upnp-client vdsm vnc-server wbem-https xmpp-bosh xmpp-client xmpp-local xmpp-server zabbix-agent zabbix-server</div><div class="line">$</div></pre></td></tr></table></figure>
</li>
<li><p>添加某个服务<br>命令: <code>firewall-cmd --add-service=&lt;service&gt; --permanent</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo firewall-cmd --add-service=http --permanent</div></pre></td></tr></table></figure>
</li>
<li><p>删除某个服务<br>命令: <code>firewall-cmd --remove-service=&lt;service&gt;  --permanent</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo firewall-cmd --remove-service=dhcpv6-client  --permanent</div></pre></td></tr></table></figure>
</li>
<li><p>添加某个端口<br>命令: <code>firewall-cmd --add-port=&lt;portid&gt;[-&lt;portid&gt;]/&lt;protocol&gt; --permanent</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"># 添加rtmp端口</div><div class="line">$ sudo firewall-cmd --add-port=1935/tcp --permanent</div><div class="line">$ sudo firewall-cmd --reload</div><div class="line">$ sudo firewall-cmd --list-all</div><div class="line">public (active)</div><div class="line">  target: default</div><div class="line">  icmp-block-inversion: no</div><div class="line">  interfaces: ens33</div><div class="line">  sources:</div><div class="line">  services: ssh dhcpv6-client http</div><div class="line">  ports: 1935/tcp</div><div class="line">  protocols:</div><div class="line">  masquerade: no</div><div class="line">  forward-ports:</div><div class="line">  source-ports:</div><div class="line">  icmp-blocks:</div><div class="line">  rich rules:</div><div class="line">$</div></pre></td></tr></table></figure>
</li>
<li><p>删除某个端口<br>命令: <code>firewall-cmd --remove-port=&lt;portid&gt;[-&lt;portid&gt;]/&lt;protocol&gt; --permanent</code></p>
</li>
<li><p>重启防火墙<br>添加或删除服务和端口后，需要重新load防火墙，才能生效<br>命令: <code>firewall-cmd --reload</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo firewall-cmd --reload</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="自定义service文件"><a href="#自定义service文件" class="headerlink" title="自定义service文件"></a>自定义service文件</h3><h4 id="service文件介绍"><a href="#service文件介绍" class="headerlink" title="service文件介绍"></a>service文件介绍</h4><p>firewalld内置了一些常用的services，对应的配置文件保存在<code>/usr/lib/firewalld/services</code>中，使用命令<code>firewall-cmd --add-service=&lt;service&gt;</code>可以很方便地添加这些服务。</p>
<p>很多情况下，我们要开放的端口不在这些预定义的服务中，此时有两个办法来实现</p>
<ol>
<li>使用<code>--add-port=&lt;portid&gt;[-&lt;portid&gt;]/&lt;protocol&gt;</code>来直接添加端口</li>
<li>自建services配置文件，并添加到firewalld中</li>
</ol>
<p>推荐使用自建services的方式，使用services方式的优点</p>
<ul>
<li>一个配置文件对应一个服务，更清晰</li>
<li>配置文件中,可以添加服务描述</li>
<li>配置文件中,可以添加多个端口和协议，如预置的rsyncd.xml中，就同时添加了873端口的TCP和UDP协议。</li>
</ul>
<h4 id="自建service文件"><a href="#自建service文件" class="headerlink" title="自建service文件"></a>自建service文件</h4><p>firewalld用到的所有service配置文件的存放路径是<code>/usr/lib/firewalld/services</code>，但自建的service文件不要直接写入该目录，而应该在<code>/etc/firewalld/services/</code>中进行设置。</p>
<p>下面是一个root下新建rtmp service的例子。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"># 拷贝/usr/lib/firewalld/services/ssh.xml文件到/etc/firewalld/services/中，命名为rtmp.xml</div><div class="line">cp /usr/lib/firewalld/services/ssh.xml /etc/firewalld/services/rtmp.xml</div><div class="line"></div><div class="line"># 修改/etc/firewalld/services/rtmp.xml为如下内容</div><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class="line">&lt;service&gt;</div><div class="line">  &lt;short&gt;RTMP&lt;/short&gt;</div><div class="line">  &lt;description&gt;Allow RTMP Streaming.&lt;/description&gt;</div><div class="line">  &lt;port protocol=&quot;tcp&quot; port=&quot;1935&quot;/&gt;</div><div class="line">&lt;/service&gt;</div><div class="line"></div><div class="line"># 重新reload firewalld</div><div class="line">firewall-cmd --reload</div><div class="line"></div><div class="line"># 重新查看可用的firewall service</div><div class="line">firewall-cmd --get-services</div><div class="line"></div><div class="line"># 添加服务</div><div class="line">firewall-cmd --add-service=rtmp --permanent</div><div class="line"></div><div class="line"># 重新reload firewalld</div><div class="line">firewall-cmd --reload</div><div class="line"></div><div class="line"># 查看防火墙状态，看rtmp是否已成功添加</div><div class="line">firewall-cmd --list-all</div></pre></td></tr></table></figure>
<h3 id="端口转发"><a href="#端口转发" class="headerlink" title="端口转发"></a>端口转发</h3><h4 id="转发到本地"><a href="#转发到本地" class="headerlink" title="转发到本地"></a>转发到本地</h4><p>命令: <code>firewall-cmd --add-forward-port=port=&lt;portid&gt;[-&lt;portid&gt;]:proto=&lt;protocol&gt;[:toport=&lt;portid&gt;[-&lt;portid&gt;]][:toaddr=&lt;address&gt;[/&lt;mask&gt;]]</code><br>例子: 转发80端口流量到12345端口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo firewall-cmd --zone=&quot;public&quot; --add-forward-port=port=80:proto=tcp:toport=12345</div></pre></td></tr></table></figure></p>
<h4 id="转发到其他机器"><a href="#转发到其他机器" class="headerlink" title="转发到其他机器"></a>转发到其他机器</h4><p>转发到其他机器时，需要开启masquerade（伪装）功能。</p>
<blockquote>
<p>Masquerading will forward packets that are not directed to an IP address associated to the system itself onto the intended destination. The source IP address of the packets that are sent through our system will be changed to the IP address of our system, rather than the IP address of the original traffic source. Responses to these packets will then go through our system and the destination address will be modified so that the traffic will be sent back to the original host that initiated the traffic.</p>
</blockquote>
<p>使用<code>firewall-cmd --add-masquerade</code>开启masquerade。<br>例子: 转发本地80端口到IP 10.0.0.2上的8080端口中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo firewall-cmd --add-forward-port=port=80:proto=tcp:toport=8080:toaddr=10.0.0.2</div></pre></td></tr></table></figure></p>
<h3 id="Rich-rules细粒度控制"><a href="#Rich-rules细粒度控制" class="headerlink" title="Rich rules细粒度控制"></a>Rich rules细粒度控制</h3><p>FirewallD的Rich rules 可以提供更细粒度的控制。可以使用<code>man 5 firewalld.richlanguage</code>来查看rich rules的语法，</p>
<p>例子:</p>
<p>允许来自192.168.0.14的所有IPv4流量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo firewall-cmd --add-rich-rule &apos;rule family=&quot;ipv4&quot; source address=192.168.0.14 accept&apos;</div></pre></td></tr></table></figure></p>
<p>拒绝来自192.168.1.10的基于TCP的请求访问22端口, 也就是拒绝192.168.1.10进行ssh<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo firewall-cmd --add-rich-rule &apos;rule family=&quot;ipv4&quot; source address=&quot;192.168.1.10&quot; port port=22 protocol=tcp reject&apos;</div></pre></td></tr></table></figure></p>
<p>只允许来自192.168.187.128/25的请求访问22端口，拒绝其余的ssh登录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo firewall-cmd --remove-service=ssh</div><div class="line">sudo firewall-cmd --add-rich-rule=&quot;rule family=&quot;ipv4&quot; source address=&quot;192.168.187.128/25&quot; service name=&quot;ssh&quot; accept&quot; --permanent</div></pre></td></tr></table></figure></p>
<p>允许来自10.1.0.3的TCP请求到80端口，并且转发到本地的6532端口。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo firewall-cmd --add-rich-rule &apos;rule family=ipv4 source address=10.1.0.3 forward-port port=80 protocol=tcp to-port=6532&apos;</div></pre></td></tr></table></figure></p>
<p>将来自172.31.4.2的访问80端口的TCP请求转发到主机172.31.4.2的8080端口。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo firewall-cmd --add-masquerade</div><div class="line">sudo firewall-cmd --add-rich-rule &apos;rule family=ipv4 forward-port port=80 protocol=tcp to-port=8080 to-addr=172.31.4.2&apos;</div></pre></td></tr></table></figure></p>
<p>列出所有的rich rules<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo firewall-cmd --list-rich-rules</div></pre></td></tr></table></figure></p>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><ul>
<li><a href="https://www.linuxhelp.com/firewalld-commands-in-linux-with-examples" target="_blank" rel="external">FirewallD Command in Linux With Examples</a></li>
<li><a href="https://www.linode.com/docs/security/firewalls/introduction-to-firewalld-on-centos/" target="_blank" rel="external">Introduction to FirewallD on CentOS</a></li>
<li><a href="https://www.rootusers.com/how-to-use-firewalld-rich-rules-and-zones-for-filtering-and-nat/" target="_blank" rel="external">How To Use Firewalld Rich Rules And Zones For Filtering And NAT</a></li>
<li><a href="https://wangchujiang.com/linux-command/c/firewall-cmd.html" target="_blank" rel="external">firewall-cmd</a></li>
</ul>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/2019/04/20/niu-x-resource/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>上一页</a></li>
  		

        <li><a href="/archives"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/2019/04/09/online-visual-paradigm/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>

    <!-- share -->
    
        
    <div class="bdsharebuttonbox">
        <a href="#" class="bds_more" data-cmd="more"></a>
        <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
        <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
        <a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
        <a href="#" class="bds_twi" data-cmd="twi" title="分享到Twitter"></a>
        <a href="#" class="bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a>
        <a href="#" class="bds_evernotecn" data-cmd="evernotecn" title="分享到印象笔记"></a>
        <a href="#" class="bds_youdao" data-cmd="youdao" title="分享到有道云笔记"></a>
        <a href="#" class="bds_copy" data-cmd="copy" title="分享到复制网址"></a>
    </div>
    <script>
        window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"24"},"share":{}};
        with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
    </script>


        

    
	
	<!-- comment -->
	
<section id="comment">
  <h2 class="title">留言</h2>
  
  	 <div id="disqus_thread">
     <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  	 </div>
  
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta">

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2019-04-20
	</div>
	

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
			<ol class="toc-article"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#安装和管理firewalld"><span class="toc-article-text">安装和管理firewalld</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#基础命令"><span class="toc-article-text">基础命令</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#自定义service文件"><span class="toc-article-text">自定义service文件</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#service文件介绍"><span class="toc-article-text">service文件介绍</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#自建service文件"><span class="toc-article-text">自建service文件</span></a></li></ol></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#端口转发"><span class="toc-article-text">端口转发</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#转发到本地"><span class="toc-article-text">转发到本地</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#转发到其他机器"><span class="toc-article-text">转发到其他机器</span></a></li></ol></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Rich-rules细粒度控制"><span class="toc-article-text">Rich rules细粒度控制</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Reference"><span class="toc-article-text">Reference</span></a></li></ol>
		</div>
	
	</div>

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/Tools/">Tools<span>28</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>
    <ul id="tags" class="tag_box list-unstyled collapse in">
	    
  <li><a href="/tags/Linux/">Linux<span>15</span></a></li> <li><a href="/tags/Firewall/">Firewall<span>1</span></a></li>
    </ul>
	</div>
	

    <hr>

</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->

<script type="text/javascript">
var disqus_shortname = 'jibing57-blog';
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2020 jibing57
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
